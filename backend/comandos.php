<?php
class Conexao{

  private $user ="guilhe266828";
  private $pass ="lol@0501";
  public $db,$save,$saveweb,$tpl,$bck,$uca,$nfe;

  function conectaServer(){
      
    include_once("_libs/phpseclib/SSH.php");     
  
    $this->save = new Net_SSH2("172.20.169.253");
    $this->db = new Net_SSH2("172.20.169.195");  
    $this->saveweb = new Net_SSH2("172.20.169.196");
    $this->tpl = new Net_SSH2("172.20.171.125");
    $this->bck = new Net_SSH2("172.20.169.198");
    $this->uca = new Net_SSH2("172.20.170.253");
    $this->nfe = new NET_SSH2("172.20.169.25");
   


    if (! $this->save->login($this->user, $this->pass)) {        
     echo "Erro ao conectar com o srvsave";
    }
    if (! $this->db->login($this->user, $this->pass)) {        
        echo "Erro ao conectar com o db";
       }
    if (! $this->saveweb->login($this->user, $this->pass)) {
        echo "Erro ao conectar com o srvapp";
    }

    if (! $this->tpl->login($this->user, $this->pass)) {
        echo "Erro ao conectar com o srvtpl";
    }

    if (! $this->bck->login($this->user, $this->pass)) {
        echo "Erro ao conectar com o bck";
    }
    if (! $this->uca->login($this->user, $this->pass)) {
      echo "Erro ao conectar com o uca";
  }


  }
}

class Setores{

  function equipamentos($eq_setor, $tipo_eq)
  {

    if ($tipo_eq == "desk") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);

        if ($valida == "w140" || $valida == "t140") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {

            echo "
            <div style='margin:1em' title='Desktop $desk - Ip $ip Offline'>
            <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='red' class='bi bi-pc-display-horizontal' viewBox='0 0 16 16'>
          <path d='M1.5 0A1.5 1.5 0 0 0 0 1.5v7A1.5 1.5 0 0 0 1.5 10H6v1H1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5v-1h4.5A1.5 1.5 0 0 0 16 8.5v-7A1.5 1.5 0 0 0 14.5 0h-13Zm0 1h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5ZM12 12.5a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0Zm2 0a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0ZM1.5 12h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1ZM1 14.25a.25.25 0 0 1 .25-.25h5.5a.25.25 0 1 1 0 .5h-5.5a.25.25 0 0 1-.25-.25Z'/>
        </svg> 
        &nbsp  $desk
        </div>";
          } else {
            echo "
            <div style='margin:1em' title='Desktop $desk - Ip $ip Online'>
            <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='green' class='bi bi-pc-display-horizontal' viewBox='0 0 16 16'>
            <path d='M1.5 0A1.5 1.5 0 0 0 0 1.5v7A1.5 1.5 0 0 0 1.5 10H6v1H1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-5v-1h4.5A1.5 1.5 0 0 0 16 8.5v-7A1.5 1.5 0 0 0 14.5 0h-13Zm0 1h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5ZM12 12.5a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0Zm2 0a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0ZM1.5 12h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1ZM1 14.25a.25.25 0 0 1 .25-.25h5.5a.25.25 0 1 1 0 .5h-5.5a.25.25 0 0 1-.25-.25Z'/>
          </svg> 
        &nbsp  $desk
          </div>";
          }
        }
      }
    }

    if ($tipo_eq == "biometrico") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);

        $mani_nome = substr($desk, 10, 40);

        if ($valida == "Biom") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "
            <div style='margin:1em' title='Biométrico $desk - Ip $ip Offline'>
            <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='red' class='bi bi-fingerprint' viewBox='0 0 16 16'>
            <path d='M8.06 6.5a.5.5 0 0 1 .5.5v.776a11.5 11.5 0 0 1-.552 3.519l-1.331 4.14a.5.5 0 0 1-.952-.305l1.33-4.141a10.5 10.5 0 0 0 .504-3.213V7a.5.5 0 0 1 .5-.5Z'/>
            <path d='M6.06 7a2 2 0 1 1 4 0 .5.5 0 1 1-1 0 1 1 0 1 0-2 0v.332c0 .409-.022.816-.066 1.221A.5.5 0 0 1 6 8.447c.04-.37.06-.742.06-1.115V7Zm3.509 1a.5.5 0 0 1 .487.513 11.5 11.5 0 0 1-.587 3.339l-1.266 3.8a.5.5 0 0 1-.949-.317l1.267-3.8a10.5 10.5 0 0 0 .535-3.048A.5.5 0 0 1 9.569 8Zm-3.356 2.115a.5.5 0 0 1 .33.626L5.24 14.939a.5.5 0 1 1-.955-.296l1.303-4.199a.5.5 0 0 1 .625-.329Z'/>
            <path d='M4.759 5.833A3.501 3.501 0 0 1 11.559 7a.5.5 0 0 1-1 0 2.5 2.5 0 0 0-4.857-.833.5.5 0 1 1-.943-.334Zm.3 1.67a.5.5 0 0 1 .449.546 10.72 10.72 0 0 1-.4 2.031l-1.222 4.072a.5.5 0 1 1-.958-.287L4.15 9.793a9.72 9.72 0 0 0 .363-1.842.5.5 0 0 1 .546-.449Zm6 .647a.5.5 0 0 1 .5.5c0 1.28-.213 2.552-.632 3.762l-1.09 3.145a.5.5 0 0 1-.944-.327l1.089-3.145c.382-1.105.578-2.266.578-3.435a.5.5 0 0 1 .5-.5Z'/>
            <path d='M3.902 4.222a4.996 4.996 0 0 1 5.202-2.113.5.5 0 0 1-.208.979 3.996 3.996 0 0 0-4.163 1.69.5.5 0 0 1-.831-.556Zm6.72-.955a.5.5 0 0 1 .705-.052A4.99 4.99 0 0 1 13.059 7v1.5a.5.5 0 1 1-1 0V7a3.99 3.99 0 0 0-1.386-3.028.5.5 0 0 1-.051-.705ZM3.68 5.842a.5.5 0 0 1 .422.568c-.029.192-.044.39-.044.59 0 .71-.1 1.417-.298 2.1l-1.14 3.923a.5.5 0 1 1-.96-.279L2.8 8.821A6.531 6.531 0 0 0 3.058 7c0-.25.019-.496.054-.736a.5.5 0 0 1 .568-.422Zm8.882 3.66a.5.5 0 0 1 .456.54c-.084 1-.298 1.986-.64 2.934l-.744 2.068a.5.5 0 0 1-.941-.338l.745-2.07a10.51 10.51 0 0 0 .584-2.678.5.5 0 0 1 .54-.456Z'/>
            <path d='M4.81 1.37A6.5 6.5 0 0 1 14.56 7a.5.5 0 1 1-1 0 5.5 5.5 0 0 0-8.25-4.765.5.5 0 0 1-.5-.865Zm-.89 1.257a.5.5 0 0 1 .04.706A5.478 5.478 0 0 0 2.56 7a.5.5 0 0 1-1 0c0-1.664.626-3.184 1.655-4.333a.5.5 0 0 1 .706-.04ZM1.915 8.02a.5.5 0 0 1 .346.616l-.779 2.767a.5.5 0 1 1-.962-.27l.778-2.767a.5.5 0 0 1 .617-.346Zm12.15.481a.5.5 0 0 1 .49.51c-.03 1.499-.161 3.025-.727 4.533l-.07.187a.5.5 0 0 1-.936-.351l.07-.187c.506-1.35.634-2.74.663-4.202a.5.5 0 0 1 .51-.49Z'/>
          </svg>
        &nbsp  $mani_nome </br>
        </div>";
          } else {
            echo "
            <div style='margin:1em' title='Biométrico $desk - Ip $ip Online'>
            <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='green' class='bi bi-fingerprint' viewBox='0 0 16 16'>
            <path d='M8.06 6.5a.5.5 0 0 1 .5.5v.776a11.5 11.5 0 0 1-.552 3.519l-1.331 4.14a.5.5 0 0 1-.952-.305l1.33-4.141a10.5 10.5 0 0 0 .504-3.213V7a.5.5 0 0 1 .5-.5Z'/>
            <path d='M6.06 7a2 2 0 1 1 4 0 .5.5 0 1 1-1 0 1 1 0 1 0-2 0v.332c0 .409-.022.816-.066 1.221A.5.5 0 0 1 6 8.447c.04-.37.06-.742.06-1.115V7Zm3.509 1a.5.5 0 0 1 .487.513 11.5 11.5 0 0 1-.587 3.339l-1.266 3.8a.5.5 0 0 1-.949-.317l1.267-3.8a10.5 10.5 0 0 0 .535-3.048A.5.5 0 0 1 9.569 8Zm-3.356 2.115a.5.5 0 0 1 .33.626L5.24 14.939a.5.5 0 1 1-.955-.296l1.303-4.199a.5.5 0 0 1 .625-.329Z'/>
            <path d='M4.759 5.833A3.501 3.501 0 0 1 11.559 7a.5.5 0 0 1-1 0 2.5 2.5 0 0 0-4.857-.833.5.5 0 1 1-.943-.334Zm.3 1.67a.5.5 0 0 1 .449.546 10.72 10.72 0 0 1-.4 2.031l-1.222 4.072a.5.5 0 1 1-.958-.287L4.15 9.793a9.72 9.72 0 0 0 .363-1.842.5.5 0 0 1 .546-.449Zm6 .647a.5.5 0 0 1 .5.5c0 1.28-.213 2.552-.632 3.762l-1.09 3.145a.5.5 0 0 1-.944-.327l1.089-3.145c.382-1.105.578-2.266.578-3.435a.5.5 0 0 1 .5-.5Z'/>
            <path d='M3.902 4.222a4.996 4.996 0 0 1 5.202-2.113.5.5 0 0 1-.208.979 3.996 3.996 0 0 0-4.163 1.69.5.5 0 0 1-.831-.556Zm6.72-.955a.5.5 0 0 1 .705-.052A4.99 4.99 0 0 1 13.059 7v1.5a.5.5 0 1 1-1 0V7a3.99 3.99 0 0 0-1.386-3.028.5.5 0 0 1-.051-.705ZM3.68 5.842a.5.5 0 0 1 .422.568c-.029.192-.044.39-.044.59 0 .71-.1 1.417-.298 2.1l-1.14 3.923a.5.5 0 1 1-.96-.279L2.8 8.821A6.531 6.531 0 0 0 3.058 7c0-.25.019-.496.054-.736a.5.5 0 0 1 .568-.422Zm8.882 3.66a.5.5 0 0 1 .456.54c-.084 1-.298 1.986-.64 2.934l-.744 2.068a.5.5 0 0 1-.941-.338l.745-2.07a10.51 10.51 0 0 0 .584-2.678.5.5 0 0 1 .54-.456Z'/>
            <path d='M4.81 1.37A6.5 6.5 0 0 1 14.56 7a.5.5 0 1 1-1 0 5.5 5.5 0 0 0-8.25-4.765.5.5 0 0 1-.5-.865Zm-.89 1.257a.5.5 0 0 1 .04.706A5.478 5.478 0 0 0 2.56 7a.5.5 0 0 1-1 0c0-1.664.626-3.184 1.655-4.333a.5.5 0 0 1 .706-.04ZM1.915 8.02a.5.5 0 0 1 .346.616l-.779 2.767a.5.5 0 1 1-.962-.27l.778-2.767a.5.5 0 0 1 .617-.346Zm12.15.481a.5.5 0 0 1 .49.51c-.03 1.499-.161 3.025-.727 4.533l-.07.187a.5.5 0 0 1-.936-.351l.07-.187c.506-1.35.634-2.74.663-4.202a.5.5 0 0 1 .51-.49Z'/>
          </svg>
        &nbsp  $mani_nome </br>
          </div>";
          }
        }
      }
    }
    if ($tipo_eq == "ponto") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);

        $mani_nome = substr($desk, 6, 40);

        if ($valida == "pont") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "
          <div style='margin:1em' title='Relógio $desk - Ip $ip Offline'>
          <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='red' class='bi bi-person-vcard-fill' viewBox='0 0 16 16'>
          <path d='M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm9 1.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0-.5.5ZM9 8a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1h-4A.5.5 0 0 0 9 8Zm1 2.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0-.5.5Zm-1 2C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1 1 0 0 0 2 13h6.96c.026-.163.04-.33.04-.5ZM7 6a2 2 0 1 0-4 0 2 2 0 0 0 4 0Z'/>
        </svg>
      &nbsp  $mani_nome </br>
      </div>";
          } else {
            echo "
          <div style='margin:1em' title='Relógio $desk - Ip $ip Online'>
          <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='green' class='bi bi-person-vcard-fill' viewBox='0 0 16 16'>
          <path d='M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm9 1.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0-.5.5ZM9 8a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 0-1h-4A.5.5 0 0 0 9 8Zm1 2.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0-.5.5Zm-1 2C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1 1 0 0 0 2 13h6.96c.026-.163.04-.33.04-.5ZM7 6a2 2 0 1 0-4 0 2 2 0 0 0 4 0Z'/>
        </svg>
      &nbsp  $mani_nome </br>
        </div>";
          }
        }
      }
    }
    if ($tipo_eq == "servidor") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);
        $mani_nome = substr($desk, 7, 40);

        if ($valida == "serv") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "


       <div style='margin:1em' title='$desk - Ip $ip Offline'>        
        <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='red' class='bi bi-cloud-arrow-down-fill' viewBox='0 0 16 16'>
        <path d='M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 6.854-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708z'/>
        </svg>
        &nbsp  $mani_nome
        </div>";
          } else {
            echo "
            <div style='margin:1em' title='$desk - Ip $ip Online'>              
        <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='green' class='bi bi-cloud-check-fill' viewBox='0 0 16 16'>
        <path d='M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 4.854-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708z'/>
        </svg>           
        &nbsp  $mani_nome
          </div>";
          }
        }
      }
    }
    if ($tipo_eq == "nobreak") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);
        $mani_nome = substr($desk, 8, 40);

        if ($valida == "Nobr") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "


       <div style='margin:1em' title='$desk - Ip $ip Offline'>    
       
       <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='red' class='bi bi-pc' viewBox='0 0 16 16'>
      <path d='M5 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H5Zm.5 14a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1Zm2 0a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1ZM5 1.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5ZM5.5 3h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1Z'/>
      </svg>
        
        &nbsp  $mani_nome
        </div>";
          } else {
            echo "
            <div style='margin:1em' title='$desk - Ip $ip Online'>              
            <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='green' class='bi bi-pc' viewBox='0 0 16 16'>
            <path d='M5 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1H5Zm.5 14a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1Zm2 0a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1ZM5 1.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5ZM5.5 3h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1Z'/>
            </svg>         
        &nbsp  $mani_nome
          </div>";
          }
        }
      }
    }
    if ($tipo_eq == "pdv") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 3);
        $mani_nome = substr($desk, 4, 40);


        if ($valida == "pdv") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "


       <div style='margin:1em' title='$desk - Ip $ip Offline'>   
       <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='red' class='bi bi-cart-x' viewBox='0 0 16 16'>
      <path d='M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z'/>
      <path d='M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/>
    </svg>
         &nbsp  $mani_nome 
        </div>";
          } else {
            echo "
            <div style='margin:1em' title='$desk - Ip $ip Online'>              
            <svg xmlns='http://www.w3.org/2000/svg' width='46' height='46' fill='green' class='bi bi-cart-plus' viewBox='0 0 16 16'>
            <path d='M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z'/>
            <path d='M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z'/>
          </svg>           
        &nbsp  $mani_nome 
          </div>";
          }
        }
      }
    }

    if ($tipo_eq == "tirateima") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);
        $mani_nome = substr($desk, 9, 40);

        if ($valida == "tira") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "


       <div style='margin:.5em;border-bottom:1px solid' title='$desk - Ip $ip Offline'>    

     <svg xmlns='http://www.w3.org/2000/svg' width='86' height='86' viewBox='0 0 192.756 192.756'><path fill-rule='evenodd' clip-rule='evenodd' fill='#fff' d='M0 0h192.756v192.756H0V0z'/><path d='M37.674 100.219l-8.194-2.58a6.292 6.292 0 0 0-.045.723c-.014 3.998 3.561 8.43 8.211 10.422v.023a17.38 17.38 0 0 1-1.265-.348c-7.367-2.318-13.323-9.145-13.303-15.246.021-6.102 6.01-9.168 13.377-6.85 4.561 1.436 8.579 4.599 10.975 8.248-2.672-8.209-10.1-15.844-18.869-18.604-11.042-3.476-20.022 2.096-20.057 12.444-.035 10.348 8.889 21.553 19.932 25.03 10.106 3.18 18.48-1.221 19.854-9.922l-10.616-3.34z' fill-rule='evenodd' clip-rule='evenodd' fill='#15548b'/><path d='M43.713 99.305c.012-3.539-3.04-7.371-6.816-8.559s-6.848.717-6.86 4.255l13.676 4.304z' fill-rule='evenodd' clip-rule='evenodd' fill='red'/><path d='M75.809 112.447c-3.592.977-6.271 1.043-8.221 1.043-5.666 0-12.202-3.061-12.202-11.641 0-8.548 5.623-11.836 13.42-11.836 1.401 0 4.354.163 6.424 1.013l-.457 4.925c-1.766-1.091-3.836-1.444-5.176-1.444-4.599 0-8.376 2.035-8.376 7.361 0 4.443 2.954 7.129 7.097 7.129.762 0 1.493-.129 2.011-.389v-4.465h-3.32v-4.289h8.799v12.593h.001zM80.005 90.397H94.98v4.289h-9.314v4.71h8.796v4.29h-8.796v5.132h9.649v4.289h-15.31v-22.71zM105.27 94.686h1.488c2.16 0 4.135.392 4.135 2.518 0 2.584-2.311 2.65-4.135 2.65h-1.488v-5.168zm-5.661 18.421h5.66v-8.965h1.186c2.102 0 2.832.975 3.988 4.871l1.217 4.094h5.906l-2.07-6.172c-1.072-2.77-1.195-4.494-3.02-5.014v-.064c2.738-.68 4.076-2.691 4.076-5.732 0-3.909-3.072-5.728-6.846-5.728H99.609v22.71zM124.172 94.893h-5.236V90.4h16.13v4.493h-5.236v18.214h-5.658V94.893zM138.303 90.397h14.974v4.289h-9.314v4.71h8.797v4.29h-8.797v5.132h9.65v4.289h-15.31v-22.71zM175.072 112.578c-1.613.424-3.41.912-6.301.912-5.662 0-12.197-3.061-12.197-11.645 0-7.893 5.166-11.833 12.166-11.833 2.162 0 4.262.521 6.301 1.172l-.457 4.907c-1.826-1.068-3.592-1.585-5.539-1.585-4.018 0-6.637 3.113-6.637 7.339 0 4.453 2.953 7.15 7.094 7.15 1.855 0 3.744-.52 5.297-1.17l.273 4.753zM179.439 86.783h.537c.271 0 .459-.054.564-.163.105-.109.158-.304.158-.584 0-.249-.057-.424-.172-.523-.115-.101-.324-.15-.629-.15h-.459v1.42h.001zm-.904 2.898v-5.02h1.676c.506 0 .871.103 1.094.308.223.205.334.541.334 1.006 0 .325-.061.582-.18.77a.71.71 0 0 1-.527.331c.443.117.674.492.693 1.125v.064l.027.665c.008.189.031.341.07.455.039.113.1.212.184.295h-1.109a1.891 1.891 0 0 1-.059-.298 5.19 5.19 0 0 1-.025-.484l-.014-.525v-.133c0-.292-.062-.492-.186-.6-.123-.109-.377-.164-.756-.164h-.318v2.204h-.904v.001z' fill-rule='evenodd' clip-rule='evenodd' fill='red'/><path d='M180.08 82.958a4.16 4.16 0 0 1 2.947 1.225 4.155 4.155 0 0 1 1.225 2.946v.002a4.16 4.16 0 0 1-1.225 2.948 4.162 4.162 0 0 1-2.945 1.224h-.004a4.16 4.16 0 0 1-2.947-1.225 4.172 4.172 0 0 1-1.225-2.946v-.003a4.17 4.17 0 0 1 1.227-2.947v-.001a4.158 4.158 0 0 1 2.945-1.224h.002v.001zm0 .432h-.002a3.733 3.733 0 0 0-2.641 1.097 3.725 3.725 0 0 0-1.098 2.643v.002c0 1.029.42 1.963 1.098 2.64a3.72 3.72 0 0 0 2.641 1.098h.004a3.73 3.73 0 0 0 2.641-1.097 3.726 3.726 0 0 0 1.098-2.642v-.002c0-1.029-.42-1.963-1.098-2.64v-.001a3.727 3.727 0 0 0-2.643-1.098z' fill='red'/></svg>        
     <p style='color:red'> &nbsp $mani_nome </p> </br>
        </div>";
          } else {
            echo "
            <div style='margin:.5em;border-bottom:1px solid' title='$desk - Ip $ip Online'>              
          <svg xmlns='http://www.w3.org/2000/svg' width='86' height='86' viewBox='0 0 192.756 192.756'><path fill-rule='evenodd' clip-rule='evenodd' fill='#fff' d='M0 0h192.756v192.756H0V0z'/><path d='M37.674 100.219l-8.194-2.58a6.292 6.292 0 0 0-.045.723c-.014 3.998 3.561 8.43 8.211 10.422v.023a17.38 17.38 0 0 1-1.265-.348c-7.367-2.318-13.323-9.145-13.303-15.246.021-6.102 6.01-9.168 13.377-6.85 4.561 1.436 8.579 4.599 10.975 8.248-2.672-8.209-10.1-15.844-18.869-18.604-11.042-3.476-20.022 2.096-20.057 12.444-.035 10.348 8.889 21.553 19.932 25.03 10.106 3.18 18.48-1.221 19.854-9.922l-10.616-3.34z' fill-rule='evenodd' clip-rule='evenodd' fill='green'/><path d='M43.713 99.305c.012-3.539-3.04-7.371-6.816-8.559s-6.848.717-6.86 4.255l13.676 4.304z' fill-rule='evenodd' clip-rule='evenodd' fill='green'/><path d='M75.809 112.447c-3.592.977-6.271 1.043-8.221 1.043-5.666 0-12.202-3.061-12.202-11.641 0-8.548 5.623-11.836 13.42-11.836 1.401 0 4.354.163 6.424 1.013l-.457 4.925c-1.766-1.091-3.836-1.444-5.176-1.444-4.599 0-8.376 2.035-8.376 7.361 0 4.443 2.954 7.129 7.097 7.129.762 0 1.493-.129 2.011-.389v-4.465h-3.32v-4.289h8.799v12.593h.001zM80.005 90.397H94.98v4.289h-9.314v4.71h8.796v4.29h-8.796v5.132h9.649v4.289h-15.31v-22.71zM105.27 94.686h1.488c2.16 0 4.135.392 4.135 2.518 0 2.584-2.311 2.65-4.135 2.65h-1.488v-5.168zm-5.661 18.421h5.66v-8.965h1.186c2.102 0 2.832.975 3.988 4.871l1.217 4.094h5.906l-2.07-6.172c-1.072-2.77-1.195-4.494-3.02-5.014v-.064c2.738-.68 4.076-2.691 4.076-5.732 0-3.909-3.072-5.728-6.846-5.728H99.609v22.71zM124.172 94.893h-5.236V90.4h16.13v4.493h-5.236v18.214h-5.658V94.893zM138.303 90.397h14.974v4.289h-9.314v4.71h8.797v4.29h-8.797v5.132h9.65v4.289h-15.31v-22.71zM175.072 112.578c-1.613.424-3.41.912-6.301.912-5.662 0-12.197-3.061-12.197-11.645 0-7.893 5.166-11.833 12.166-11.833 2.162 0 4.262.521 6.301 1.172l-.457 4.907c-1.826-1.068-3.592-1.585-5.539-1.585-4.018 0-6.637 3.113-6.637 7.339 0 4.453 2.953 7.15 7.094 7.15 1.855 0 3.744-.52 5.297-1.17l.273 4.753zM179.439 86.783h.537c.271 0 .459-.054.564-.163.105-.109.158-.304.158-.584 0-.249-.057-.424-.172-.523-.115-.101-.324-.15-.629-.15h-.459v1.42h.001zm-.904 2.898v-5.02h1.676c.506 0 .871.103 1.094.308.223.205.334.541.334 1.006 0 .325-.061.582-.18.77a.71.71 0 0 1-.527.331c.443.117.674.492.693 1.125v.064l.027.665c.008.189.031.341.07.455.039.113.1.212.184.295h-1.109a1.891 1.891 0 0 1-.059-.298 5.19 5.19 0 0 1-.025-.484l-.014-.525v-.133c0-.292-.062-.492-.186-.6-.123-.109-.377-.164-.756-.164h-.318v2.204h-.904v.001z' fill-rule='evenodd' clip-rule='evenodd' fill='green'/><path d='M180.08 82.958a4.16 4.16 0 0 1 2.947 1.225 4.155 4.155 0 0 1 1.225 2.946v.002a4.16 4.16 0 0 1-1.225 2.948 4.162 4.162 0 0 1-2.945 1.224h-.004a4.16 4.16 0 0 1-2.947-1.225 4.172 4.172 0 0 1-1.225-2.946v-.003a4.17 4.17 0 0 1 1.227-2.947v-.001a4.158 4.158 0 0 1 2.945-1.224h.002v.001zm0 .432h-.002a3.733 3.733 0 0 0-2.641 1.097 3.725 3.725 0 0 0-1.098 2.643v.002c0 1.029.42 1.963 1.098 2.64a3.72 3.72 0 0 0 2.641 1.098h.004a3.73 3.73 0 0 0 2.641-1.097 3.726 3.726 0 0 0 1.098-2.642v-.002c0-1.029-.42-1.963-1.098-2.64v-.001a3.727 3.727 0 0 0-2.643-1.098z' fill='green'/></svg>  
            <p style='color:green'> &nbsp $mani_nome </p> </br>
          </div>";
          }
        }
      }
    }


    if ($tipo_eq == "impressora") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);
        $mani_nome = substr($desk, 11, 40);

        if ($valida == "impr") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {

            if ($mani_nome == "Minolta") {

              echo "
              <div style='margin:1em' title='$desk - Ip $ip Offline'>    
              <svg xmlns='http://www.w3.org/2000/svg' height='86' width='86' viewBox='0 0 192.756 192.756'><g fill-rule='evenodd' clip-rule='evenodd'><path fill='#fff' d='M0 0h192.756v192.756H0V0z'/><path d='M72.443 145.082l.006-1.902c-3.471.473-7.997-1.311-7.913-5.406 0-3.979 3.299-5.492 7.919-5.426l.003-1.932c-5.149-.186-10.689 1.439-10.816 7.357.057 5.403 4.685 7.731 10.801 7.309zM30.032 145.447c4.095 0 7.434-3.453 7.434-7.686s-3.339-7.684-7.434-7.684-7.435 3.451-7.435 7.684 3.34 7.686 7.435 7.686zm0-2.095c2.583 0 4.691-2.512 4.691-5.59s-2.107-5.588-4.691-5.588c-2.584 0-4.691 2.51-4.691 5.588s2.107 5.59 4.691 5.59zM144.213 145.447c4.094 0 7.434-3.453 7.434-7.686s-3.34-7.684-7.434-7.684c-4.096 0-7.436 3.451-7.436 7.684s3.34 7.686 7.436 7.686zm0-2.095c2.582 0 4.689-2.512 4.689-5.59s-2.107-5.588-4.689-5.588c-2.584 0-4.691 2.51-4.691 5.588s2.107 5.59 4.691 5.59zM8.504 130.508h2.515v14.68H8.504v-14.68zM56.546 130.508h2.515v14.68h-2.515v-14.68zM115.264 130.508h2.513v14.68h-2.513v-14.68zM50.437 130.508h2.382v14.68h-2.078c-1.985-4.975-5.97-9.855-8.58-11.402v11.402h-2.382v-14.68h1.853c3.844 2.445 7.267 6.016 8.805 9.123v-9.123zM132.219 130.508h2.381v14.68h-2.076c-1.986-4.975-5.971-9.855-8.58-11.402v11.402h-2.383v-14.68h1.854c3.842 2.445 7.266 6.016 8.805 9.123v-9.123h-.001zM15.858 136.488c3.042 2.387 5.077 5.346 6.164 8.699h-2.801c-.748-2.086-3.243-6.119-6.859-8.312l6.043-6.367h3.109l-5.656 5.98zM73.477 145.156h2.49l4.09-9.513 4.92 9.545 2.934-.032-7.795-14.818-6.639 14.818zM153.957 130.508h2.631v12.752h5.81v1.928H153.957v-14.68zM171.33 130.508v1.912h-3.756v12.768h-2.516V132.42h-3.756v-1.912h10.028zM169.818 145.156h2.491l4.089-9.513 4.92 9.545 2.934-.032-7.795-14.818-6.639 14.818zM93.809 145.158l2.697.029c.68-3.221 1.391-6.449 2.125-9.615 1.648 2.697 2.814 5.521 3.832 8.375h1.824c1.018-2.854 2.182-5.678 3.832-8.375a517.743 517.743 0 0 1 2.125 9.615l2.695-.029c-1.326-4.941-2.316-9.881-4.148-14.82-1.883 2.471-4.346 6.834-5.416 9.854-.947-3.072-3.533-7.383-5.416-9.854-1.832 4.939-2.822 9.879-4.15 14.82z'/><path d='M124.338 52.882c5.359 4.565 9.18 9.925 11.314 16.327 0 .397-.199.744-.547.843l-5.955.199-32.753.248H64.736l-10.272-.149c-.298-.099-.497-.397-.497-.645.646-2.729 1.936-5.012 3.375-7.444 9.727-15.235 27.542-21.984 45.656-19.106 7.891 1.389 15.137 4.417 21.34 9.727zm11.016 36.673c.398.1.646.546.496.943-4.863 15.681-20.99 25.755-36.871 26.898-17.171 1.189-33.746-6.203-42.331-20.695-.993-2.035-2.035-4.069-2.581-6.302-.1-.397.198-.645.446-.745l1.39-.199 24.813-.099h48.882l5.756.199zm1.142-4.763c.992.744.197 2.134.098 3.176-.197.199-.197.546-.594.546l-6.303-.148-21.588-1.241-14.143-.546-22.63 1.042-13.746.892c-1.39-.099-2.779.298-4.069-.099-.447-.894-.745-1.936-.646-3.027.844-.745 2.035-.199 3.027-.497l31.661.844h16.079l20.943-.645c3.921-.198 8.089-.297 11.911-.297zm.942-4.07c.15.942.051 1.886-.098 2.779-.596.745-1.49.298-2.234.397l-15.781-.744-15.482-.646-18.858.1-13.002.446-17.171.943c-.645.05-1.489.148-2.134-.1-.447-.844-.447-2.034-.298-3.077l.496-.297h3.97l25.359.942 15.383.1 11.812-.199 25.904-1.091c.696.1 1.637-.297 2.134.447zm-.297-4.615c.199.893.744 2.581-.297 3.226h-5.559l-21.537-.943-19.305-.05-12.407.248-23.87.942c-.645-.099-1.489.249-1.836-.496-.1-.894-.1-1.836.049-2.68.596-.893 1.588-.248 2.333-.447l26.649 1.39c7.345.199 15.136.099 22.282.099l15.385-.744 15.979-.943c.645.001 1.686-.347 2.134.398zm-.944-4.764c.496.943.844 2.035.547 3.176l-.447.249-8.834-.05-21.785-.496-15.682-.1-15.235.397-18.66.447-2.779-.099c-1.191-.546-.248-1.936-.198-2.878.198-.248.397-.645.744-.645l6.253.199 18.56 1.042 16.873.744 29.725-1.688c3.523-.297 7.047-.545 10.57-.545l.348.247z' fill='red'/></g></svg>
              &nbsp  $mani_nome
            </div>";
            } else {


              echo "


       <div style='margin:1em' title='$desk - Ip $ip Offline'>    

       <svg height='86' width='86' fill='red' id='Artwork' xmlns='http://www.w3.org/2000/svg' viewBox='79 199 1000 198.3'>
       <path id='polygon3009' class='st0' d='M238.2 199.5H79.5v38.6L94 295.5l45.5 2.6 38.6-38.6 76.4-16.4-16.3-43.6z'/>
       <path id='polygon3005' class='st1' d='M79.5 238.1v158.7h38.6l64.6-5.4-4.5-54.7-98.7-98.6z'/><path id='polygon3007' class='st2' d='M118.1 396.8h158.7v-38.6l-16.9-51.4-43.2-8.7-98.6 98.7z'/>
       <path id='path3011' class='st3' d='M1035.8 277.8l-34.9 31.7 34.9 31.9v18.4h-1.1l-51.8-47v44.7h-15V222.3h15v84.5l51.5-46.9h1.4v17.9zm-676.9 79.7h76.6v-15.1h-61V226.7h-15.6v130.8zM488.5 260c-23.5 0-44.9 19.1-44.9 49.9 0 29.9 19.6 49.7 47.8 49.7 12.6 0 24.2-3.2 34.7-10.8v-16.1c-11 9.2-23.2 13.1-34.2 13.1-16.9 0-31.9-10.5-33.3-30.1H530c.2-1.9.6-6.1.6-7.7 0-31.5-19-48-42.1-48zm.1 13.7c13.3 0 26.8 8.6 27.3 28.9h-57.4c.9-15.7 13-28.9 30.1-28.9zM740.5 260c-12.7 0-21.9 6.7-27.4 16.6C708.5 266 700 260 686.4 260c-11.9 0-20.7 6.9-25.5 16.1h-.4l-1.8-14.2h-11.9v95.5H662v-60.3c0-11.7 7.3-22.6 20.5-22.6 12.9 0 18.6 7.6 18.6 21.4v61.6h15.2v-61.4c0-11.1 7.4-21.6 20.4-21.6 13.1 0 18.7 7.6 18.7 21.4v61.6h15.2v-63.7c.1-20-9.2-33.8-30.1-33.8zm91.7 0c-22.8 0-44.1 19.3-44.1 49.9 0 30.2 21.2 49.7 44.1 49.7 14.3 0 27.8-6.7 35-20h.2l1.8 17.9h12.4V262h-12.4l-1.8 17.9h-.2c-7.2-13.1-20.7-19.9-35-19.9zm2.8 14.2c18 0 31.7 14.5 31.7 35.6 0 21-13.6 35.6-31.7 35.6-17.7 0-31.7-14.3-31.7-35.4 0-21.5 14-35.8 31.7-35.8zm111.4-13.3c-8.3 0-20.9 3.9-27.4 16.3h-.2l-1.6-15.2H905v95.5h15.2v-55c0-22.1 17.9-29 32.6-26v-15.1c-2-.3-3.9-.5-6.4-.5zm-319.1-1.1h-1.2l-39.9 39.8-39.8-39.8h-1.2v19.3l30.7 30.7-30.7 30.5v19.5h1.2l39.6-40 40.1 40h1.2v-19.6l-31-30.7 31-31.2v-18.5zm408.5-35.4v-2.1h16.6v2.1h-7V241h-2.5v-16.7c-.1.1-7.1.1-7.1.1zm25-2.1l7.2 15.8 7.2-15.8h3.4V241h-2.4v-15.7L1069 241h-2.1l-7.1-15.7V241h-2.4v-18.8h3.4z'/><path id='polygon3003' class='st4' d='M276.8 358.2V199.5h-38.6l-60 60 98.6 98.7z'/></svg>
              
        &nbsp  $mani_nome
        </div>";
            }
          } else {

            if ($mani_nome == "Minolta") {

              echo "
              <div style='margin:1em' title='$desk - Ip $ip Online'>    
              <svg xmlns='http://www.w3.org/2000/svg' height='86' width='86' viewBox='0 0 192.756 192.756'><g fill-rule='evenodd' clip-rule='evenodd'><path fill='#fff' d='M0 0h192.756v192.756H0V0z'/><path d='M72.443 145.082l.006-1.902c-3.471.473-7.997-1.311-7.913-5.406 0-3.979 3.299-5.492 7.919-5.426l.003-1.932c-5.149-.186-10.689 1.439-10.816 7.357.057 5.403 4.685 7.731 10.801 7.309zM30.032 145.447c4.095 0 7.434-3.453 7.434-7.686s-3.339-7.684-7.434-7.684-7.435 3.451-7.435 7.684 3.34 7.686 7.435 7.686zm0-2.095c2.583 0 4.691-2.512 4.691-5.59s-2.107-5.588-4.691-5.588c-2.584 0-4.691 2.51-4.691 5.588s2.107 5.59 4.691 5.59zM144.213 145.447c4.094 0 7.434-3.453 7.434-7.686s-3.34-7.684-7.434-7.684c-4.096 0-7.436 3.451-7.436 7.684s3.34 7.686 7.436 7.686zm0-2.095c2.582 0 4.689-2.512 4.689-5.59s-2.107-5.588-4.689-5.588c-2.584 0-4.691 2.51-4.691 5.588s2.107 5.59 4.691 5.59zM8.504 130.508h2.515v14.68H8.504v-14.68zM56.546 130.508h2.515v14.68h-2.515v-14.68zM115.264 130.508h2.513v14.68h-2.513v-14.68zM50.437 130.508h2.382v14.68h-2.078c-1.985-4.975-5.97-9.855-8.58-11.402v11.402h-2.382v-14.68h1.853c3.844 2.445 7.267 6.016 8.805 9.123v-9.123zM132.219 130.508h2.381v14.68h-2.076c-1.986-4.975-5.971-9.855-8.58-11.402v11.402h-2.383v-14.68h1.854c3.842 2.445 7.266 6.016 8.805 9.123v-9.123h-.001zM15.858 136.488c3.042 2.387 5.077 5.346 6.164 8.699h-2.801c-.748-2.086-3.243-6.119-6.859-8.312l6.043-6.367h3.109l-5.656 5.98zM73.477 145.156h2.49l4.09-9.513 4.92 9.545 2.934-.032-7.795-14.818-6.639 14.818zM153.957 130.508h2.631v12.752h5.81v1.928H153.957v-14.68zM171.33 130.508v1.912h-3.756v12.768h-2.516V132.42h-3.756v-1.912h10.028zM169.818 145.156h2.491l4.089-9.513 4.92 9.545 2.934-.032-7.795-14.818-6.639 14.818zM93.809 145.158l2.697.029c.68-3.221 1.391-6.449 2.125-9.615 1.648 2.697 2.814 5.521 3.832 8.375h1.824c1.018-2.854 2.182-5.678 3.832-8.375a517.743 517.743 0 0 1 2.125 9.615l2.695-.029c-1.326-4.941-2.316-9.881-4.148-14.82-1.883 2.471-4.346 6.834-5.416 9.854-.947-3.072-3.533-7.383-5.416-9.854-1.832 4.939-2.822 9.879-4.15 14.82z'/><path d='M124.338 52.882c5.359 4.565 9.18 9.925 11.314 16.327 0 .397-.199.744-.547.843l-5.955.199-32.753.248H64.736l-10.272-.149c-.298-.099-.497-.397-.497-.645.646-2.729 1.936-5.012 3.375-7.444 9.727-15.235 27.542-21.984 45.656-19.106 7.891 1.389 15.137 4.417 21.34 9.727zm11.016 36.673c.398.1.646.546.496.943-4.863 15.681-20.99 25.755-36.871 26.898-17.171 1.189-33.746-6.203-42.331-20.695-.993-2.035-2.035-4.069-2.581-6.302-.1-.397.198-.645.446-.745l1.39-.199 24.813-.099h48.882l5.756.199zm1.142-4.763c.992.744.197 2.134.098 3.176-.197.199-.197.546-.594.546l-6.303-.148-21.588-1.241-14.143-.546-22.63 1.042-13.746.892c-1.39-.099-2.779.298-4.069-.099-.447-.894-.745-1.936-.646-3.027.844-.745 2.035-.199 3.027-.497l31.661.844h16.079l20.943-.645c3.921-.198 8.089-.297 11.911-.297zm.942-4.07c.15.942.051 1.886-.098 2.779-.596.745-1.49.298-2.234.397l-15.781-.744-15.482-.646-18.858.1-13.002.446-17.171.943c-.645.05-1.489.148-2.134-.1-.447-.844-.447-2.034-.298-3.077l.496-.297h3.97l25.359.942 15.383.1 11.812-.199 25.904-1.091c.696.1 1.637-.297 2.134.447zm-.297-4.615c.199.893.744 2.581-.297 3.226h-5.559l-21.537-.943-19.305-.05-12.407.248-23.87.942c-.645-.099-1.489.249-1.836-.496-.1-.894-.1-1.836.049-2.68.596-.893 1.588-.248 2.333-.447l26.649 1.39c7.345.199 15.136.099 22.282.099l15.385-.744 15.979-.943c.645.001 1.686-.347 2.134.398zm-.944-4.764c.496.943.844 2.035.547 3.176l-.447.249-8.834-.05-21.785-.496-15.682-.1-15.235.397-18.66.447-2.779-.099c-1.191-.546-.248-1.936-.198-2.878.198-.248.397-.645.744-.645l6.253.199 18.56 1.042 16.873.744 29.725-1.688c3.523-.297 7.047-.545 10.57-.545l.348.247z' fill='green'/></g></svg>
              &nbsp  $mani_nome
            </div>";
            } else {


              echo "
            <div style='margin:1em' title='$desk - Ip $ip Online'>              
            <svg height='86' width='86' fill='green' id='Artwork' xmlns='http://www.w3.org/2000/svg' viewBox='79 199 1000 198.3'>
            <path id='polygon3009' class='st0' d='M238.2 199.5H79.5v38.6L94 295.5l45.5 2.6 38.6-38.6 76.4-16.4-16.3-43.6z'/>
            <path id='polygon3005' class='st1' d='M79.5 238.1v158.7h38.6l64.6-5.4-4.5-54.7-98.7-98.6z'/>
            <path id='polygon3007' class='st2' d='M118.1 396.8h158.7v-38.6l-16.9-51.4-43.2-8.7-98.6 98.7z'/>
            <path id='path3011' class='st3' d='M1035.8 277.8l-34.9 31.7 34.9 31.9v18.4h-1.1l-51.8-47v44.7h-15V222.3h15v84.5l51.5-46.9h1.4v17.9zm-676.9 79.7h76.6v-15.1h-61V226.7h-15.6v130.8zM488.5 260c-23.5 0-44.9 19.1-44.9 49.9 0 29.9 19.6 49.7 47.8 49.7 12.6 0 24.2-3.2 34.7-10.8v-16.1c-11 9.2-23.2 13.1-34.2 13.1-16.9 0-31.9-10.5-33.3-30.1H530c.2-1.9.6-6.1.6-7.7 0-31.5-19-48-42.1-48zm.1 13.7c13.3 0 26.8 8.6 27.3 28.9h-57.4c.9-15.7 13-28.9 30.1-28.9zM740.5 260c-12.7 0-21.9 6.7-27.4 16.6C708.5 266 700 260 686.4 260c-11.9 0-20.7 6.9-25.5 16.1h-.4l-1.8-14.2h-11.9v95.5H662v-60.3c0-11.7 7.3-22.6 20.5-22.6 12.9 0 18.6 7.6 18.6 21.4v61.6h15.2v-61.4c0-11.1 7.4-21.6 20.4-21.6 13.1 0 18.7 7.6 18.7 21.4v61.6h15.2v-63.7c.1-20-9.2-33.8-30.1-33.8zm91.7 0c-22.8 0-44.1 19.3-44.1 49.9 0 30.2 21.2 49.7 44.1 49.7 14.3 0 27.8-6.7 35-20h.2l1.8 17.9h12.4V262h-12.4l-1.8 17.9h-.2c-7.2-13.1-20.7-19.9-35-19.9zm2.8 14.2c18 0 31.7 14.5 31.7 35.6 0 21-13.6 35.6-31.7 35.6-17.7 0-31.7-14.3-31.7-35.4 0-21.5 14-35.8 31.7-35.8zm111.4-13.3c-8.3 0-20.9 3.9-27.4 16.3h-.2l-1.6-15.2H905v95.5h15.2v-55c0-22.1 17.9-29 32.6-26v-15.1c-2-.3-3.9-.5-6.4-.5zm-319.1-1.1h-1.2l-39.9 39.8-39.8-39.8h-1.2v19.3l30.7 30.7-30.7 30.5v19.5h1.2l39.6-40 40.1 40h1.2v-19.6l-31-30.7 31-31.2v-18.5zm408.5-35.4v-2.1h16.6v2.1h-7V241h-2.5v-16.7c-.1.1-7.1.1-7.1.1zm25-2.1l7.2 15.8 7.2-15.8h3.4V241h-2.4v-15.7L1069 241h-2.1l-7.1-15.7V241h-2.4v-18.8h3.4z'/><path id='polygon3003' class='st4' d='M276.8 358.2V199.5h-38.6l-60 60 98.6 98.7z'/></svg>       
        &nbsp  $mani_nome
          </div>";
            }
          }
        }
      }
    }
    if ($tipo_eq == "bematech") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);
        $mani_nome = substr($desk, 8, 40);

        if ($valida == "bema") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "
       <div style='margin:1em' title='$desk - Ip $ip Offline'>    

        <svg xmlns='http://www.w3.org/2000/svg' width='56' height='56' fill='red' viewBox='0 0 544.5 89.457'><g fill-rule='evenodd' clip-rule='evenodd'><path d='M19.46 35.005h8.648c6.166 0 9.249-2.928 9.249-8.783-.24-5.354-3.243-8.03-9.009-8.03H19.46v16.813zm0 36.257h12.492c7.609 0 11.413-3.094 11.413-9.283 0-2.928-1.081-5.166-3.244-6.713-2.162-1.547-5.126-2.32-8.89-2.32H19.46v18.316zM0 10.038c0-3.263.861-5.751 2.582-7.466C4.305.858 6.646 0 9.609 0h23.424C39.6 0 45.166 2.196 49.731 6.587c4.564 4.392 6.847 9.891 6.847 16.499 0 7.612-3.364 13.382-10.091 17.313 5.445 1.005 9.65 3.513 12.613 7.527 2.964 4.016 4.445 8.951 4.445 14.805 0 2.51-.36 5.354-1.082 8.531-1.602 5.521-4.766 9.934-9.49 13.238-4.725 3.303-10.971 4.955-18.739 4.955H9.609c-2.402 0-4.604-.859-6.606-2.572C1.001 85.168 0 82.596 0 79.166V10.038zM312.314 79.59V19.649h-45.695V.343h88.187l.084 19.306h-23.269V79.59c0 8.01-7.25 9.865-9.611 9.865-2.361 0-9.696-1.855-9.696-9.865z'/><path d='M339.377 10.881c0-3.793 1.518-6.576 2.951-7.84 1.518-1.433 3.963-2.697 6.407-2.697h30.604c4.974 0 9.779 4.299 9.779 9.61 0 5.986-5.143 9.695-9.779 9.695h-20.487v16.018h19.138c5.396 0 9.274 4.637 9.274 9.021 0 5.312-3.878 9.443-9.274 9.443h-19.138v15.85h20.487c4.637 0 9.779 3.961 9.779 9.695 0 6.154-5.143 9.779-9.779 9.779h-29.846c-3.203 0-5.901-1.518-7.166-3.035-1.434-1.688-2.951-4.131-2.951-6.744V10.881h.001zM70.855 10.712c0-3.793 1.518-6.576 2.951-7.84C75.324 1.439 77.768.174 80.213.174h30.604c4.974 0 9.78 4.3 9.78 9.611 0 5.986-5.143 9.695-9.78 9.695H90.331v16.019h19.138c5.396 0 9.274 4.637 9.274 9.021 0 5.311-3.878 9.441-9.274 9.441H90.331v15.85h20.487c4.637 0 9.78 3.963 9.78 9.695 0 6.154-5.143 9.779-9.78 9.779H80.972c-3.204 0-5.901-1.518-7.166-3.035-1.433-1.686-2.951-4.131-2.951-6.744V10.712zM136.869 14.337C138.302 7.762 141 .343 148.335.343c5.732 0 8.346 3.709 11.128 10.201l15.26 42.153 15.26-42.153c2.95-7.587 6.576-10.117 11.044-10.201 8.094-.169 9.695 7.924 11.382 13.994l12.478 62.555c1.771 7.672-4.384 12.562-9.189 12.562-5.901 0-9.78-4.217-10.202-9.527l-6.829-42.912-13.236 42.828c-1.771 5.311-5.733 9.611-10.708 9.611s-8.937-4.301-10.707-9.611L150.78 37.016l-6.998 42.828c-.337 4.637-3.963 9.611-9.864 9.611-4.806 0-11.129-4.807-9.358-12.479l12.309-62.639zM251.865 15.265C255.574 5.317 260.212.259 266.703.259c7.083 0 11.297 5.143 14.838 15.091l22.257 59.942c2.867 8.684-3.372 14.078-8.853 14.164-4.553.084-8.768-3.289-10.2-9.443l-1.939-8.008H250.77l-2.024 7.84c-.927 5.395-4.637 9.525-10.286 9.611-5.479-.086-11.382-5.143-8.684-14.164l22.089-60.027zm3.929 39.096h20.627L266.15 22.774l-10.356 31.587zM393.082 44.941c0-20.824 16.692-44.598 44.093-44.598 6.745 0 18.295 2.866 22.427 7.671 4.805 5.986 2.781 12.14-1.181 15.175-9.864 5.227-10.454-3.035-20.234-2.529-15.934 0-24.533 11.887-24.533 24.281h-20.572z'/><path d='M393.082 44.855c0 20.824 16.692 44.6 44.093 44.6 6.745 0 18.295-2.867 22.427-7.672 4.805-5.986 2.781-12.141-1.181-15.176-9.864-5.227-10.454 3.035-20.234 2.529-15.934 0-24.533-11.887-24.533-24.281h-20.572zM469.971 10.038c0-4.637 3.963-9.695 9.695-9.695 5.733 0 9.696 5.143 9.696 9.695v24.87h35.746v-24.87c0-4.552 3.879-9.695 9.611-9.695 5.733 0 9.78 5.143 9.78 9.695v69.806c0 4.637-4.047 9.611-9.949 9.611-5.563 0-9.442-5.059-9.442-9.611V53.793h-35.746v26.051c0 4.553-3.963 9.611-9.696 9.611-5.732 0-9.695-4.975-9.695-9.611V10.038z'/></g></svg>
        &nbsp  $mani_nome
        </div>";
          } else {
            echo "
            <div style='margin:1em' title='$desk - Ip $ip Online'>              
           <svg xmlns='http://www.w3.org/2000/svg' width='56' height='56' fill='green' viewBox='0 0 544.5 89.457'><g fill-rule='evenodd' clip-rule='evenodd'><path d='M19.46 35.005h8.648c6.166 0 9.249-2.928 9.249-8.783-.24-5.354-3.243-8.03-9.009-8.03H19.46v16.813zm0 36.257h12.492c7.609 0 11.413-3.094 11.413-9.283 0-2.928-1.081-5.166-3.244-6.713-2.162-1.547-5.126-2.32-8.89-2.32H19.46v18.316zM0 10.038c0-3.263.861-5.751 2.582-7.466C4.305.858 6.646 0 9.609 0h23.424C39.6 0 45.166 2.196 49.731 6.587c4.564 4.392 6.847 9.891 6.847 16.499 0 7.612-3.364 13.382-10.091 17.313 5.445 1.005 9.65 3.513 12.613 7.527 2.964 4.016 4.445 8.951 4.445 14.805 0 2.51-.36 5.354-1.082 8.531-1.602 5.521-4.766 9.934-9.49 13.238-4.725 3.303-10.971 4.955-18.739 4.955H9.609c-2.402 0-4.604-.859-6.606-2.572C1.001 85.168 0 82.596 0 79.166V10.038zM312.314 79.59V19.649h-45.695V.343h88.187l.084 19.306h-23.269V79.59c0 8.01-7.25 9.865-9.611 9.865-2.361 0-9.696-1.855-9.696-9.865z'/><path d='M339.377 10.881c0-3.793 1.518-6.576 2.951-7.84 1.518-1.433 3.963-2.697 6.407-2.697h30.604c4.974 0 9.779 4.299 9.779 9.61 0 5.986-5.143 9.695-9.779 9.695h-20.487v16.018h19.138c5.396 0 9.274 4.637 9.274 9.021 0 5.312-3.878 9.443-9.274 9.443h-19.138v15.85h20.487c4.637 0 9.779 3.961 9.779 9.695 0 6.154-5.143 9.779-9.779 9.779h-29.846c-3.203 0-5.901-1.518-7.166-3.035-1.434-1.688-2.951-4.131-2.951-6.744V10.881h.001zM70.855 10.712c0-3.793 1.518-6.576 2.951-7.84C75.324 1.439 77.768.174 80.213.174h30.604c4.974 0 9.78 4.3 9.78 9.611 0 5.986-5.143 9.695-9.78 9.695H90.331v16.019h19.138c5.396 0 9.274 4.637 9.274 9.021 0 5.311-3.878 9.441-9.274 9.441H90.331v15.85h20.487c4.637 0 9.78 3.963 9.78 9.695 0 6.154-5.143 9.779-9.78 9.779H80.972c-3.204 0-5.901-1.518-7.166-3.035-1.433-1.686-2.951-4.131-2.951-6.744V10.712zM136.869 14.337C138.302 7.762 141 .343 148.335.343c5.732 0 8.346 3.709 11.128 10.201l15.26 42.153 15.26-42.153c2.95-7.587 6.576-10.117 11.044-10.201 8.094-.169 9.695 7.924 11.382 13.994l12.478 62.555c1.771 7.672-4.384 12.562-9.189 12.562-5.901 0-9.78-4.217-10.202-9.527l-6.829-42.912-13.236 42.828c-1.771 5.311-5.733 9.611-10.708 9.611s-8.937-4.301-10.707-9.611L150.78 37.016l-6.998 42.828c-.337 4.637-3.963 9.611-9.864 9.611-4.806 0-11.129-4.807-9.358-12.479l12.309-62.639zM251.865 15.265C255.574 5.317 260.212.259 266.703.259c7.083 0 11.297 5.143 14.838 15.091l22.257 59.942c2.867 8.684-3.372 14.078-8.853 14.164-4.553.084-8.768-3.289-10.2-9.443l-1.939-8.008H250.77l-2.024 7.84c-.927 5.395-4.637 9.525-10.286 9.611-5.479-.086-11.382-5.143-8.684-14.164l22.089-60.027zm3.929 39.096h20.627L266.15 22.774l-10.356 31.587zM393.082 44.941c0-20.824 16.692-44.598 44.093-44.598 6.745 0 18.295 2.866 22.427 7.671 4.805 5.986 2.781 12.14-1.181 15.175-9.864 5.227-10.454-3.035-20.234-2.529-15.934 0-24.533 11.887-24.533 24.281h-20.572z'/><path d='M393.082 44.855c0 20.824 16.692 44.6 44.093 44.6 6.745 0 18.295-2.867 22.427-7.672 4.805-5.986 2.781-12.141-1.181-15.176-9.864-5.227-10.454 3.035-20.234 2.529-15.934 0-24.533-11.887-24.533-24.281h-20.572zM469.971 10.038c0-4.637 3.963-9.695 9.695-9.695 5.733 0 9.696 5.143 9.696 9.695v24.87h35.746v-24.87c0-4.552 3.879-9.695 9.611-9.695 5.733 0 9.78 5.143 9.78 9.695v69.806c0 4.637-4.047 9.611-9.949 9.611-5.563 0-9.442-5.059-9.442-9.611V53.793h-35.746v26.051c0 4.553-3.963 9.611-9.696 9.611-5.732 0-9.695-4.975-9.695-9.611V10.038z'/></g></svg>
            &nbsp  $mani_nome
          </div>";
          }
        }
      }
    }

    if ($tipo_eq == "zebra") {

      foreach ($eq_setor as $desk => $ip) {

        $valida = substr($desk, 0, 4);


        if ($valida == "zebr") {

          $cmd_linux = shell_exec("ping -c1 $ip");

          $pega_text = explode(',', $cmd_linux);

          $valida_pacote = substr(trim($pega_text[3]), 5, 16);

          if ($valida_pacote == "packet loss" || $valida_pacote == "0ms") {
            echo "


       <div style='margin:1em' title='$desk - Ip $ip Offline'>    

       <svg height='76' viewBox='-.46828066 -.43941973 37.83628066 12.59341973' fill='red' width='76' xmlns='http://www.w3.org/2000/svg'>
       <path d='m8.116 6.314-.847-.847v2.396h.847zm-3.388-2.552h2.062l-.843-.843-.004-.004h-1.083a1.394 1.394 0 0 0 -.132-2.783v2.788h-.001l-2.317-2.31a4.133 4.133 0 0 0 -.722.476l2.192 2.184v4.797l1.695 1.693v-1.197l-.847-.847z'/><path d='m5.575 3.767-.004 4.09h.846l.004-3.238zm2.905 1.699-.846-.846h-1.212l.846.846zm-5.445 1.804v-3.643l-1.946-1.945a4.218 4.218 0 0 0 -.477.72l1.576 1.576v1.198l-1.912-1.912c-.09.336-.14.69-.144 1.054zm-2.888-1.74v1.197l5.428 5.427v-1.197zm9.663 1.263h-.848v1.07h-.846a1.395 1.395 0 1 0 2.789 0zm6.896 1.089-.635 1.207h-3.957l2.573-4.942h-2.278l.635-1.209h3.958l-2.574 4.944zm2.298-2.482h2.029v1.21h-2.029v1.272h2.029v1.208h-3.523v-6.152h3.523v1.209h-2.029zm4.864-2.462c.784 0 1.236.083 1.568.295.424.259.682.784.682 1.375 0 .433-.138.793-.415 1.07-.175.184-.313.267-.645.36.378.082.544.165.738.35.276.258.415.618.415 1.07 0 .571-.231 1.078-.627 1.346-.305.203-.674.286-1.3.286h-2.518v-6.152zm-.608 2.546h.368c.683 0 .969-.212.969-.72 0-.498-.286-.71-.987-.71h-.35zm0 2.536h.544c.627 0 .894-.212.894-.71 0-.295-.11-.508-.332-.628-.166-.092-.313-.11-.765-.11h-.341zm5.025 1.07h-1.495v-6.152h1.992c.811 0 1.401.148 1.807.461.425.333.664.886.664 1.559 0 .94-.396 1.558-1.19 1.872l1.356 2.26h-1.789l-1.346-2.38zm.48-3.22c.608 0 .977-.312.977-.848 0-.506-.36-.857-.885-.857h-.572v1.705zm6.983 3.22h1.62l-2.018-6.151h-1.9l-2.028 6.15h1.575l.38-1.209h1.993zm-1.993-2.42.618-1.97.617 1.97z'/>
       </svg>
              
        &nbsp  $desk
        </div>";
          } else {
            echo "
            <div style='margin:1em' title='$desk - Ip $ip Online'>              
            <svg height='76' viewBox='-.46828066 -.43941973 37.83628066 12.59341973' fill='green' width='76' xmlns='http://www.w3.org/2000/svg'>
       <path d='m8.116 6.314-.847-.847v2.396h.847zm-3.388-2.552h2.062l-.843-.843-.004-.004h-1.083a1.394 1.394 0 0 0 -.132-2.783v2.788h-.001l-2.317-2.31a4.133 4.133 0 0 0 -.722.476l2.192 2.184v4.797l1.695 1.693v-1.197l-.847-.847z'/><path d='m5.575 3.767-.004 4.09h.846l.004-3.238zm2.905 1.699-.846-.846h-1.212l.846.846zm-5.445 1.804v-3.643l-1.946-1.945a4.218 4.218 0 0 0 -.477.72l1.576 1.576v1.198l-1.912-1.912c-.09.336-.14.69-.144 1.054zm-2.888-1.74v1.197l5.428 5.427v-1.197zm9.663 1.263h-.848v1.07h-.846a1.395 1.395 0 1 0 2.789 0zm6.896 1.089-.635 1.207h-3.957l2.573-4.942h-2.278l.635-1.209h3.958l-2.574 4.944zm2.298-2.482h2.029v1.21h-2.029v1.272h2.029v1.208h-3.523v-6.152h3.523v1.209h-2.029zm4.864-2.462c.784 0 1.236.083 1.568.295.424.259.682.784.682 1.375 0 .433-.138.793-.415 1.07-.175.184-.313.267-.645.36.378.082.544.165.738.35.276.258.415.618.415 1.07 0 .571-.231 1.078-.627 1.346-.305.203-.674.286-1.3.286h-2.518v-6.152zm-.608 2.546h.368c.683 0 .969-.212.969-.72 0-.498-.286-.71-.987-.71h-.35zm0 2.536h.544c.627 0 .894-.212.894-.71 0-.295-.11-.508-.332-.628-.166-.092-.313-.11-.765-.11h-.341zm5.025 1.07h-1.495v-6.152h1.992c.811 0 1.401.148 1.807.461.425.333.664.886.664 1.559 0 .94-.396 1.558-1.19 1.872l1.356 2.26h-1.789l-1.346-2.38zm.48-3.22c.608 0 .977-.312.977-.848 0-.506-.36-.857-.885-.857h-.572v1.705zm6.983 3.22h1.62l-2.018-6.151h-1.9l-2.028 6.15h1.575l.38-1.209h1.993zm-1.993-2.42.618-1.97.617 1.97z'/>
       </svg>     
        &nbsp  $desk
          </div>";
          }
        }
      }
    }
  }
}

class monitoramento{

  function FileSystem(){

    $conecta = new Conexao;
    $conecta->conectaServer();




    $filesystems_db = array("/","/fs1","/fs205","/backup");
    $filesystems_save = array("/","/fs1");
    $filesystems_bck = array("/usr/openv");
   

    foreach($filesystems_db as $fs){

    $busca = $conecta->db->exec("df -Ph $fs| grep -Po '\d+(?=%)'");

    $busca = rtrim($busca);

    $busca = intval($busca);

    if($busca >= 70 && $busca < 90 ){      
      $cor_barra = "bg-warning";
     }elseif($busca >= 90){
      $cor_barra = "bg-danger";
     }else{
      $cor_barra = "bg-success";
     }
     
     echo "
         </br>
          db140 - % do $fs 
         <div class='progress' style='margin-top:1em;margin-bottom:1em'>
         <div class='progress-bar $cor_barra' role='progressbar' style='width: ".$busca."%' aria-valuenow='$busca' aria-valuemin='0' aria-valuemax='100'>$busca%</div>
         </div>       
         </br>
         <hr>
      
          ";

        }

        foreach($filesystems_save as $fs){

          $busca = $conecta->save->exec("df -Ph $fs| grep -Po '\d+(?=%)'");
      
          $busca = rtrim($busca);
      
          $busca = intval($busca);
      
          if($busca >= 70 && $busca < 90 ){      
            $cor_barra = "bg-warning";
           }elseif($busca >= 90){
            $cor_barra = "bg-danger";
           }else{
            $cor_barra = "bg-success";
           }
           
           echo "
               </br>
               srvsave140 - % do $fs
               <div class='progress' style='margin-top:1em;margin-bottom:1em'>
               <div class='progress-bar $cor_barra' role='progressbar' style='width: ".$busca."%' aria-valuenow='$busca' aria-valuemin='0' aria-valuemax='100'>$busca%</div>
               </div>       
               </br>

               <hr>
            
                ";
      
              }

              foreach($filesystems_bck as $fs){

                $busca = $conecta->bck->exec("df -Ph $fs| grep -Po '\d+(?=%)'");
            
                $busca = rtrim($busca);
            
                $busca = intval($busca);
            
                if($busca >= 70 && $busca < 90 ){      
                  $cor_barra = "bg-warning";
                 }elseif($busca >= 90){
                  $cor_barra = "bg-danger";
                 }else{
                  $cor_barra = "bg-success";
                 }
                 
                 echo "
                     </br>
                     srvbck140 - % do $fs
                     <div class='progress' style='margin-top:1em;margin-bottom:1em'>
                     <div class='progress-bar $cor_barra' role='progressbar' style='width: ".$busca."%' aria-valuenow='$busca' aria-valuemin='0' aria-valuemax='100'>$busca%</div>
                     </div>       
                     </br>
                     <hr>
                      ";
            
                    }
    }
  
       
      
  function verificaProg(){ 
      
    $conecta = new Conexao;
    $conecta->conectaServer();
    
     $programas_de_notas = array("sasou25","sasou39","sasou46","sasou47","scdou27","svdou25","gerabole","flexjava");
     foreach($programas_de_notas as $prog){

        $busca = $conecta->db->exec("ps -ef | grep $prog | grep -v 'grep' | wc -l ");    
        $busca_prog_save = $conecta->save->exec("ps -ef | grep $prog | grep -v 'grep' | wc -l ");     

      
      
           
        if($busca == 1 || $busca_prog_save == 1){
          echo "</br><p class='text-success'>".ucfirst($prog)." está no ar </p>";
        }else{
          echo "</br><p class='text-danger'>".ucfirst($prog)." não está no ar</p>";
        }

        
        
      }

}


      function BuscaDadosToners(){

        $conecta = new Conexao;
        $conecta->conectaServer();
        $ip_impressoras = array("Gerência"=>"172.20.169.122","RM"=>"172.20.169.114","RH"=>"172.20.169.120","NF-e"=>"172.20.169.124");

        foreach($ip_impressoras as $local=>$ip){

        
          $pega_info = $conecta->save->exec("curl -s 'http://$ip/cgi-bin/dynamic/printer/PrinterStatus.html' | grep 'Cartucho Preto' | cut -c 38-42 | tr -s ' '");
          
          $pega_info = trim($pega_info);

          $pega_numero = str_replace('~','',$pega_info);
          $vlr_toner = str_replace('%','',$pega_numero);

         
          if($vlr_toner <= 30 && $vlr_toner > 15 ){      
            $cor_barra = "bg-warning";
          }elseif($vlr_toner <= 15){
            $cor_barra = "bg-danger";
          }else{
            $cor_barra = "bg-success";
          }

      if ($vlr_toner == 0) {

        echo "
            </br>
             % de Toner da impressora do setor $local
            <div class='progress' style='margin-top:1em;margin-bottom:1em'>
            <div class='progress-bar bg-danger' role='progressbar' style='width: 100%' aria-valuenow='100' aria-valuemin='0' aria-valuemax='100'>Toner Zerado</div>
            </div>       
            </br>
         
             ";
      } else {

        echo "
         </br>
          % de Toner da impressora do setor $local
         <div class='progress' style='margin-top:1em;margin-bottom:1em'>
         <div class='progress-bar $cor_barra' role='progressbar' style='width: " . $vlr_toner . "%' aria-valuenow='$vlr_toner' aria-valuemin='0' aria-valuemax='100'>$vlr_toner%</div>
         </div>       
         </br>
      
          ";
      }

        }
      }

      function DadosServers(){

        
        $conecta = new Conexao;
        $conecta->conectaServer();
      

          echo "DB140 online há ".$conecta->db->exec("uptime | cut -d' ' -f4") . " dias | <br>";
          echo "SRVSAVE140 online há ".$conecta->save->exec("uptime | cut -d' ' -f4") . " dias | <br>";
          echo "SRVBCK140 online há ".$conecta->bck->exec("uptime | cut -d' ' -f4") . " dias | <br>";
          echo "SRVTPL140 online há ".$conecta->tpl->exec("uptime | cut -d' ' -f4") . " dias | <br>";
          echo "SRVUCA140 online há ".$conecta->uca->exec("uptime | cut -d' ' -f4") . " dias | <br>";
          echo "SRVAPP140 online há ".$conecta->saveweb->exec("uptime | cut -d' ' -f4") . " dias | <br>";
         
         


          
      


      }


}

